/*! time-select <0.0.1@2017-7-17 18:11:11> | Copyright (c) 2015-2016 DaoJia, Inc | http://www.daojia.com */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.TimeSelect=t():e.TimeSelect=t()}(this,function(){return function(e){function t(o){if(n[o])return n[o].exports;var i=n[o]={exports:{},id:o,loaded:!1};return e[o].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function o(e){e.preventDefault()}n(1);var i=n(4),r=n(6),a=n(7),l=function(e){var t,n=r.merge({},e);n.onDisabled=function(n){t&&t.btnDisabled("enter"),r.isFunction(e.onDisabled)&&e.onDisabled(n)},n.onSelected=function(n){t&&t.btnEnable("enter"),r.isFunction(e.onSelected)&&e.onSelected(n)},n.onOpen=function(){document.addEventListener("touchmove",o,!1),r.isFunction(e.onOpen)&&e.onOpen()},n.onClose=function(){n.hideLoading(),n.hideMsg(),document.removeEventListener("touchmove",o,!1),r.isFunction(e.onClose)&&e.onClose()},n.showLoading=function(){document.getElementById("loading")&&(n.hideMsg(),document.getElementById("loading").style.display="inline")},n.hideLoading=function(){document.getElementById("loading")&&(document.getElementById("loading").style.display="none")},n.showMsg=function(e){document.getElementById("msgDiv")&&(n.hideLoading(),e&&(document.getElementById("msgtext").innerHTML=e),document.getElementById("msgDiv").style.display="inline")},n.hideMsg=function(){document.getElementById("msgDiv")&&(document.getElementById("msgDiv").style.display="none")},n.isLoadingOrMsg=function(){return document.getElementById("loading")&&"inline"==document.getElementById("loading").style.display||document.getElementById("msgDiv")&&"inline"==document.getElementById("msgDiv").style.display},n.autoRender=!0;var l=new a(n);return n.height=250,n.content=l.getRoot(),n.onRender=function(){},n.onOpen=function(){l.ready()},n.onClose=function(){},t=new i(n),{reflushData:function(){l.reflushData.apply(l,[].slice.call(arguments))},reflushList:function(){l.reflushList.apply(l,[].slice.call(arguments))},attr:function(e,n){"title"==e?t.setTitle(n):"subTitle"==e?t.setSubTitle(n):"show"==e?t.open():"refresh_UL"==e?l.reflushData.apply(l,[].slice.call(arguments,1)):"refresh_list"==e&&l.reflushList.apply(l,[].slice.call(arguments,1))},setSubTitle:function(e){t.setSubTitle(e)},setTitle:function(e){t.setTitle(e)},setDefault:function(e){l.setDefault(e)},val:function(e){return l.val(e)},show:function(){t.open()},close:function(){t.close()},distory:function(){t.distory()},showLoading:function(){n.showLoading()},hideLoading:function(){n.hideLoading()},showMsg:function(e){n.showMsg(e)},hideMsg:function(){n.hideMsg()},isLoadingOrMsg:function(){return n.isLoadingOrMsg()}}};e.exports=l},function(e,t,n){"use strict";n(2),n(3)},function(e,t){},function(e,t){},function(e,t,n){var o,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(r,a){function l(){function e(){if(D)return!1;w.onInit&&w.onInit();var e=a.createElement("div");M.panel_maxwrap=e,e.innerHTML=w.outerHTML;var t=w.buttonGroup,n=e.querySelector(".panel_title"),o=e.querySelector(".timeout-btn"),i=0;for(var r in t){if(i++>=2)break;var l=a.createElement("button");l.className=t[r].disabled===!0?"panel_btn disabled panel_btn_"+r:"panel_btn panel_btn_"+r,l.setAttribute("data-key",r),l.innerHTML=t[r].name,n.appendChild(l)}if(t.timeout){var s=a.createElement("img");s.className="panel_btn  panel_btn_timeout",s.setAttribute("data-key","timeout"),s.setAttribute("class","timeout-img"),s.setAttribute("src","//static.daojia.com/assets/common/timeselect_h5/images/shuaxin@3x.png"),s.innerHTML=t.timeout.name,s.addEventListener("click",function(){t.timeout.handel()},!1),o.appendChild(s)}e.querySelector(".panel_maintitle").innerHTML=w.title,e.querySelector(".panel_title").appendChild(e.querySelector(".panel_maintitle")),""!==w.subTitle&&(e.querySelector(".panel_header").innerHTML+='<h4 class="panel_subtitle">'+w.subTitle+"</h4>");var c=e.querySelector(".panel_container_wrapper");1===w.content.nodeType?(c.innerHTML="",c.appendChild(w.content)):c.innerHTML=w.content,c.style.height="auto"===w.height?"auto":w.height+"px",e.style.display="none",e.className="panel_maxwrap",1===w.renderTo.nodeType?w.renderTo.appendChild(e):a.getElementsByTagName("body")[0].appendChild(e),w.onRender&&w.onRender(),D=!0}function t(){if(!D)return!1;var e=M.panel_maxwrap;M.panel_backdrop=e.querySelector(".panel_backdrop"),M.panel_header=e.querySelector(".panel_header"),M.panel_title=e.querySelector(".panel_title"),M.panel_maintitle=e.querySelector(".panel_maintitle"),M.panel_subtitle=e.querySelector(".panel_subtitle"),M.panel_container_wrapper=e.querySelector(".panel_container_wrapper")}function n(){var e=this,t=arguments;return!!D&&(g(M.panel_backdrop,"touchstart",function(n){var o="function"!=typeof w.onMaskClick||w.onMaskClick.apply(e,t);w.closeOnMaskClicked&&(o!==!1?v():""),_(n)}),g(M.panel_header,"touchmove",function(e){_(e)}),g(M.panel_container_wrapper,"touchstart",function(e){_(e)}),g(M.panel_container_wrapper,"touchmove",function(e){_(e)}),void S(M.panel_title,"button","click",function(t){if(t.className.indexOf("disabled")!==-1)return!1;var n=w.buttonGroup,o=t.getAttribute("data-key");for(var i in n)if(i===o){var r="function"!=typeof n[i].handel||n[i].handel.apply(e);r!==!1?v():""}}))}function o(e){if(!D)return!1;var t=w.buttonGroup;t[e]?t[e].disabled=!1:"";var n=M.panel_maxwrap.querySelector(".panel_btn_"+e);x(n,"disabled")}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(!D||""===e)return!1;var t=w.buttonGroup;t[e]?t[e].disabled=!0:"";var n=M.panel_maxwrap.querySelector(".panel_btn_"+e);T(n,"disabled")}function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return!(!D||""===e)&&(w.content=e,void(1===e.nodeType?(M.panel_container_wrapper.innerHTML="",M.panel_container_wrapper.appendChild(e)):M.panel_container_wrapper.innerHTML=e))}function l(){return!!D&&M.panel_container_wrapper}function c(){return!!D&&w.title}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return!!D&&void(M.panel_maintitle.innerHTML=e)}function d(){return!!D&&w.subTitle}function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return!!D&&void(e&&(M.panel_subtitle.innerHTML=w.subTitle=e))}function f(){return!!D&&void(M.panel_subtitle.style.display="none")}function h(){return!!D&&void(M.panel_subtitle.style.display="block")}function m(){D||(e(),t(),n());for(var o=0,i=s.length;o<i;o++)s[o]!==this?s[o].close():"";M.panel_maxwrap.style.display="block",w.onOpen&&w.onOpen()}function v(){return!!D&&(M.panel_maxwrap.style.display="none",void(w.onClose&&w.onClose()))}function b(){if(!D)return!1;var e=M.panel_maxwrap.parentNode;e.removeChild(M.panel_maxwrap),w.onDestory&&w.onDestory(),D=!1}function y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];for(var o in t)if(t.hasOwnProperty(o)){if("undefined"!=typeof e[o]&&n)continue;e[o]=t[o]}return e}function g(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n}function S(e,t,n,o){g(e,n,function(e){var n=e.target||e.srcElement;n.nodeName.toLowerCase()===t.toLowerCase()&&o(n)})}function x(e,t){var n=new RegExp("(?:^| )"+t+"(?: |$)","g");e.className=e.className.replace(n," ").trim()}function T(e,t){e.className.indexOf(t)===-1&&(e.className=e.className.trim()+" "+t)}function _(e){e.preventDefault()}var w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},M={},D=!1,E={outerHTML:'<div class="panel_backdrop"></div>\n            <div class="panel_wrapper">\n              <div class="panel_header">\n                <div class="panel_title">\n                  <h3 class="panel_maintitle"></h3>\n                </div>\n              </div>\n\t\t\t\t\t\t\t<div id="msgDiv" class="select-msg"><div class="alert-div"><img class=\'alert-img\' src=\'//static.daojia.com/assets/common/timeselect_h5/images/Group@3x.png\'></img><span class=\'alert-text\' id=\'msgtext\'>时间获取失败</span></div><div class=\'timeout-btn\'></div></div>\n\t\t\t\t\t\t\t<div id="loading" class="select-msg"><div class="alert-div"><img src=\'//static.daojia.com/assets/common/timeselect_h5/images/loading_svg.svg\' class=\'alert-img\'></img><span class=\'alert-text\'>正在获取预约时间</span></div></div>\n              <div class="panel_container_wrapper"></div>\n            </div>',title:"标题",subTitle:"",autoRender:!1,height:320,closeOnMaskClicked:!1,onMaskClick:function(){},onInit:function(){},onRender:function(){},onDestory:function(){},onOpen:function(){},onClose:function(){},showLoading:function(){},hideLoading:function(){},showMsgDiv:function(e){},hideMsgDiv:function(){},isLoadingOrMsg:function(){},renderTo:a.body,buttonGroup:{cancel:{name:"取消",disabled:!1,handel:function(){}},enter:{name:"确定",disabled:!1,handel:function(){}},timeout:{name:"请求超时",disabled:!1,handel:function(){}}},content:""};w=y(E,w),function(){w.autoRender&&(e(),t(),n())}();var C={getTitle:c,setTitle:u,getSubTitle:d,setSubTitle:p,hideSubTitle:f,showSubTitle:h,btnDisabled:i,btnEnable:o,setContent:r,getContentEle:l,open:m,close:v,destory:b};return s.push(C),C}var s=[];"undefined"!=typeof e&&"object"===i(t)&&n(5).cmd?e.exports=l:(o=function(){return l}.call(t,n,t,e),!(void 0!==o&&(e.exports=o)))}(window,document)},function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},function(e,t){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=Object.prototype.hasOwnProperty,i={isObject:function(e){return"object"==("undefined"==typeof e?"undefined":n(e))},isPlainObject:function(e){return!!e&&"object"===("undefined"==typeof e?"undefined":n(e))&&"[object Object]"===e.toString()&&e.constructor===Object},isEmptyObject:function(e){var t;for(t in e)return!0;return!1},isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},isArrayLike:function(e){return i.isArray(e)||!i.isFunction(e)&&(0===e.length||"number"==typeof e.length&&e.length>0&&e.length-1 in e)},isFunction:function(e){return"[object Function]"===Object.prototype.toString.call(e)},isWindow:function(e){return null!=e&&e==e.window},isDocument:function(e){return null!=e&&e.nodeType==e.DOCUMENT_NODE},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){for(var i in e)o.call(e,i)&&t.call(n||this,i,e[i])},trim:function(e){var t=/(^\s*)|(\s*$)/g;return null==e?"":(e+"").replace(t,"")},noop:function(){},merge:function(e,t){if(!t)return e;for(var n in t)o.call(t,n)&&(e[n]=t[n]);return e}};e.exports=i},function(e,t,n){"use strict";var o=n(6),i=n(8),r=function(e){var t=this,n=[];t.onSelected=function(e,t){n[e]=t.disabled||!1,i(t)};var i=function(t){for(var i=0;i<n.length;i++)if(n[i])return void(o.isFunction(e.onDisabled)&&e.onDisabled(t));o.isFunction(e.onSelected)&&e.onSelected(t)};return t.options=e,t.init(e),{reflushData:function(e){e=e||[],t.cols=[],n=[];var o=t.createView(e);t.$root&&t.$root[0].parentNode&&t.$root[0].parentNode.replaceChild(o[0],t.$root[0]),t.$root=o},getRoot:function(){return t.$root[0]},val:function(e){return t.setVal(e),t.getVal()},reflushList:function(e,n){var o=t.cols[e];o&&(o.reflushData(n),t.resetWidth())},setDefault:function(e){t.setDefault(e)},ready:function(){t.ready()}}};r.prototype={ready:function(){for(var e=this,t=0;t<e.cols.length;t++){var n=e.cols[t];n&&n.ready()}},init:function(e){var t=this;e=e||{};var n=e.lists||[];t.cols=[],t.$root=t.createView(n)},setVal:function(e){var t=this;e=e||[];for(var n=0;n<e.length;n++){var o=t.cols[n];o&&o.val(e[n])}},setDefault:function(e){var t=this;if("undefined"!=typeof e){var n=t.cols[e];n&&n.setDefault()}else for(var o=0;o<t.cols.length;o++){var n=t.cols[o];n&&n.setDefault()}},getVal:function(){for(var e=[],t=this,n=0;n<t.cols.length;n++){var o=t.cols[n];o&&e.push(o.val())}return e},createView:function(e){var t=this,n=$(document.createElement("div"));n.addClass("time-select");var o=$(document.createElement("div")),i=$(document.createElement("div"));o.addClass("mask-layer-before"),i.addClass("mask-layer-after"),n.append(o),n.append(i);for(var r=0;r<e.length;r++){var a=e[r];if(r>0){var l=$(document.createElement("div"));l.addClass("vline inline"),n.append(l)}var s=t.createList(r,a);t.cols.push(s),n.append(s.getRoot())}return t.resetWidth(),e.length>1&&n.addClass("size-"+e.length),n},resetWidth:function(){var e=this,t={2:["39.95","59.95"]},n=e.cols.length,i=t[n]||[];if(e.options.widths){var r=e.options.widths[n];o.isArray(r)&&(i=r)}for(var a=99,l=i.length>n?n:i.length,s=0;s<l;s++){var c=e.cols[s],u=c.getRoot();$(u).addClass("inline group-"+(s+1)).css({width:i[s]+"%"}),a-=i[s]}if(l<n)for(var d=parseFloat(a/(n-l),2),s=l;s<n;s++){var c=e.cols[s],u=c.getRoot();$(u).addClass("inline group-"+(s+1)).css({width:d+"%"})}},createList:function(e,t){var n=this,o=new i(t,function(t){n.onSelected(e,t)});return o}},e.exports=r},function(e,t,n){"use strict";var o=n(6);n(9),n(10);var i=n(11),r=50,a=function(e,t){var n=this;return this.cb_select=function(n){o.isFunction(t)&&t(n),o.isFunction(e.onSelected)&&e.onSelected(n)},n.init(e),{reflushData:function(e){n.cols=[],n.currentVal=null;var t=n.createView(e||[]);n.$root&&n.$root[0].parentNode&&n.$root[0].parentNode.replaceChild(t[0],n.$root[0]),n.iscroll&&n.iscroll.destroy(),n.$root=t,t.ready(function(){n.iscroll=n.initScroll(),n.ready()}),n.setDefault()},getRoot:function(){return n.$root[0]},setDefault:function(e){e?n.val(e):n.setDefault(e)},val:function(e,t){return n.val(e,t)},ready:function(){n.ready()}}};a.prototype={ready:function(){var e=this;e.iscroll.refresh(),e._preTop&&(e.iscroll.scrollTo(0,e._preTop),e._preTop=0)},init:function(e){var t=this;t.cols=[],t.transY=0,t.$root=t.createView(e.items),t.$root.ready(function(){t.iscroll=t.initScroll()}),t.currentVal=null,t.setDefault()},initScroll:function(){var e=this,t=new i(e.$root[0],{snap:"div",momentum:!0,vScrollbar:!1,hScrollbar:!1,onScroll:function(){e.valByTop(t.y,t.dirY,!0)},onScrollStart:function(){},onScrollEnd:function(){e.valByTop(t.y,t.dirY)},onScrollMove:function(){e.valByTop(t.y,t.dirY,!0)},onTouchEnd:function(){e.valByTop(t.y,t.dirY)}});return t},val:function(e,t){var n=this;if("undefined"!=typeof e&&null!=e){var o=n.cols,i=0;n.currentVal=null;for(var a=0;a<o.length;a++){var l=o[a];l.d&&l.d.val==e?(i=a,l.select(!0,!1)):l.select(!1,!0)}var s=-i*r;n.iscroll?n.iscroll.scrollTo(0,s):n._preTop=s}return n.currentVal},setDefault:function(){for(var e=this,t=-1,n=this.cols,o=0;o<n.length;o++){var i=n[o];t==-1&&i.d&&!i.d.disabled?(t=o,i.select(!0)):i.select(!1,!0)}t==-1&&(t=0);var a=-t*r;e.iscroll?e.iscroll.scrollTo(0,a):e._preTop=a},valByTop:function(e,t,n){var o=Math.round(Math.abs(e)/r),i=this.cols;if(!(o>i.length-1))for(var a=0;a<i.length;a++){var l=i[a];l.select(o==a,n)}},createView:function(e){e=e||[];var t=this,n=$(document.createElement("div"));n.addClass("time-select-wrapper");var o=$(document.createElement("div"));o.addClass("time-select-content"),n.append(o);for(var i=0;i<2;i++){var r=t.createLi({},i);o.append(r.root)}for(var i=0;i<e.length;i++){var a=e[i],r=t.createLi(a,i+2);t.cols.push(r),o.append(r.root)}for(var i=0;i<2;i++){var r=t.createLi({},i+2+e.length);o.append(r.root)}return n},createLi:function(e,t){e=e||{};var n=this,o=document.createElement("div"),i=$(o);i.addClass("select-item"+(e.disabled?" disabled":"")),i.html(e.text),i.attr("val",e.val);var r={root:o,d:e,select:function(t,o){t?(i.addClass("current"),!o&&n.cb_select&&n.cb_select(e),n.currentVal=e):i.removeClass("current")}};return i.bind("click",function(){n.val(e.val)}),r}},e.exports=a},function(e,t){"use strict";!function(e){function t(e,t){var n=this.os={},o=this.browser={},i=e.match(/Web[kK]it[\/]{0,1}([\d.]+)/),r=e.match(/(Android);?[\s\/]+([\d.]+)?/),a=!!e.match(/\(Macintosh\; Intel /),l=e.match(/(iPad).*OS\s([\d_]+)/),s=e.match(/(iPod)(.*OS\s([\d_]+))?/),c=!l&&e.match(/(iPhone\sOS)\s([\d_]+)/),u=e.match(/(webOS|hpwOS)[\s\/]([\d.]+)/),d=/Win\d{2}|Windows/.test(t),p=e.match(/Windows Phone ([\d.]+)/),f=u&&e.match(/TouchPad/),h=e.match(/Kindle\/([\d.]+)/),m=e.match(/Silk\/([\d._]+)/),v=e.match(/(BlackBerry).*Version\/([\d.]+)/),b=e.match(/(BB10).*Version\/([\d.]+)/),y=e.match(/(RIM\sTablet\sOS)\s([\d.]+)/),g=e.match(/PlayBook/),S=e.match(/Chrome\/([\d.]+)/)||e.match(/CriOS\/([\d.]+)/),x=e.match(/Firefox\/([\d.]+)/),T=e.match(/\((?:Mobile|Tablet); rv:([\d.]+)\).*Firefox\/[\d.]+/),_=e.match(/MSIE\s([\d.]+)/)||e.match(/Trident\/[\d](?=[^\?]+).*rv:([0-9.].)/),w=!S&&e.match(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/),M=w||e.match(/Version\/([\d.]+)([^S](Safari)|[^M]*(Mobile)[^S]*(Safari))/);(o.webkit=!!i)&&(o.version=i[1]),r&&(n.android=!0,n.version=r[2]),c&&!s&&(n.ios=n.iphone=!0,n.version=c[2].replace(/_/g,".")),l&&(n.ios=n.ipad=!0,n.version=l[2].replace(/_/g,".")),s&&(n.ios=n.ipod=!0,n.version=s[3]?s[3].replace(/_/g,"."):null),p&&(n.wp=!0,n.version=p[1]),u&&(n.webos=!0,n.version=u[2]),f&&(n.touchpad=!0),v&&(n.blackberry=!0,n.version=v[2]),b&&(n.bb10=!0,n.version=b[2]),y&&(n.rimtabletos=!0,n.version=y[2]),g&&(o.playbook=!0),h&&(n.kindle=!0,n.version=h[1]),m&&(o.silk=!0,o.version=m[1]),!m&&n.android&&e.match(/Kindle Fire/)&&(o.silk=!0),S&&(o.chrome=!0,o.version=S[1]),x&&(o.firefox=!0,o.version=x[1]),T&&(n.firefoxos=!0,n.version=T[1]),_&&(o.ie=!0,o.version=_[1]),M&&(a||n.ios||d)&&(o.safari=!0,n.ios||(o.version=M[1])),w&&(o.webview=!0),n.tablet=!!(l||g||r&&!e.match(/Mobile/)||x&&e.match(/Tablet/)||_&&!e.match(/Phone/)&&e.match(/Touch/)),n.phone=!(n.tablet||n.ipod||!(r||c||u||v||b||S&&e.match(/Android/)||S&&e.match(/CriOS\/([\d.]+)/)||x&&e.match(/Mobile/)||_&&e.match(/Touch/)))}t.call(e,navigator.userAgent,navigator.platform),e.__detect=t}(Zepto)},function(e,t){"use strict";!function(e){function t(e,t,n,o){return Math.abs(e-t)>=Math.abs(n-o)?e-t>0?"Left":"Right":n-o>0?"Up":"Down"}function n(){u=null,p.last&&(p.el.trigger("longTap"),p={})}function o(){u&&clearTimeout(u),u=null}function i(){l&&clearTimeout(l),s&&clearTimeout(s),c&&clearTimeout(c),u&&clearTimeout(u),l=s=c=u=null,p={}}function r(e){return("touch"==e.pointerType||e.pointerType==e.MSPOINTER_TYPE_TOUCH)&&e.isPrimary}function a(e,t){return e.type=="pointer"+t||e.type.toLowerCase()=="mspointer"+t}var l,s,c,u,d,p={},f=750;e(document).ready(function(){var h,m,v,b,y=0,g=0;"MSGesture"in window&&(d=new MSGesture,d.target=document.body),e(document).bind("MSGestureEnd",function(e){var t=e.velocityX>1?"Right":e.velocityX<-1?"Left":e.velocityY>1?"Down":e.velocityY<-1?"Up":null;t&&(p.el.trigger("swipe"),p.el.trigger("swipe"+t))}).on("touchstart MSPointerDown pointerdown",function(t){(b=a(t,"down"))&&!r(t)||(v=b?t:t.touches[0],t.touches&&1===t.touches.length&&p.x2&&(p.x2=void 0,p.y2=void 0),h=Date.now(),m=h-(p.last||h),p.el=e("tagName"in v.target?v.target:v.target.parentNode),l&&clearTimeout(l),p.x1=v.pageX,p.y1=v.pageY,m>0&&m<=250&&(p.isDoubleTap=!0),p.last=h,u=setTimeout(n,f),d&&b&&d.addPointer(t.pointerId))}).on("touchmove MSPointerMove pointermove",function(e){(b=a(e,"move"))&&!r(e)||(v=b?e:e.touches[0],o(),p.x2=v.pageX,p.y2=v.pageY,y+=Math.abs(p.x1-p.x2),g+=Math.abs(p.y1-p.y2))}).on("touchend MSPointerUp pointerup",function(n){(b=a(n,"up"))&&!r(n)||(o(),p.x2&&Math.abs(p.x1-p.x2)>30||p.y2&&Math.abs(p.y1-p.y2)>30?c=setTimeout(function(){p.el&&(p.el.trigger("swipe"),p.el.trigger("swipe"+t(p.x1,p.x2,p.y1,p.y2))),p={}},0):"last"in p&&(y<30&&g<30?s=setTimeout(function(){var t=e.Event("tap");t.cancelTouch=i,p.el&&p.el.trigger(t),p.isDoubleTap?(p.el&&p.el.trigger("doubleTap"),p={}):l=setTimeout(function(){l=null,p.el&&p.el.trigger("singleTap"),p={}},250)},0):p={}),y=g=0)}).on("touchcancel MSPointerCancel pointercancel",i),e(window).on("scroll",i)}),["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap","singleTap","longTap"].forEach(function(t){e.fn[t]=function(e){return this.on(t,e)}})}(Zepto)},function(e,t,n){"use strict";var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(t,n){"undefined"!=typeof e&&e.exports&&(e.exports=n(t,$,window))}(void 0,function(e,t,n){function i(){}function r(e){return""===d?e:(e=e.charAt(0).toUpperCase()+e.substr(1),d+e)}var a=n,l=a.document,s=function(e){function t(t,n){e(t,n).each(function(t,n){1!=e(n).attr("data-keyboard-init")&&(d&&e(n).tap(function(e){this.focus()}),e(n).on("focus",function(e){c=this,d&&this.focus()}).on("blur",function(e){c=null}).attr("data-keyboard-init",1))})}function n(t){"function"==e.type(t)&&p.push(t)}function o(){if(l!=s)if(u){var t=i;i=r,r=t}else i=e(a).width(),r=e(a).height();var n=e(a).height();u=null!==c&&r>n,e.each(p,function(e,t){t.apply(null,[u,c])}),l=s}var i=e(a).width(),r=e(a).height(),l=!!(2&a.orientation),s=l,c=null,u=!1,d=e.os.ios&&parseFloat(e.os.version)>=7,p=[],f=null;return t("input,textarea,select"),e(a).on("orientationchange",function(e){s=!!(2&a.orientation),d&&o()}).on("resize",function(t){(!d||l==s&&e(a).width()==i)&&(f&&clearTimeout(f),f=setTimeout(o,200))}),{watch:t,onchange:n,fixIScroll4Onchange:function(t,o){n(function(n,i){if("onorientationchange"in a&&t.refresh(),(!e.os.ios||d)&&n&&i){o="number"==e.type(o)?o:5;var r=e(i),l=e(a).height(),s=r.height()+r.offset().top+o;s-t.y>l&&t[B](0,l-s+t.y,0),d&&i.focus()}})}}}(t),c=Math,u=l.createElement("div").style,d=function(){for(var e,t="t,webkitT,MozT,msT,OT".split(","),n=0,o=t.length;n<o;n++)if(e=t[n]+"ransform",e in u)return t[n].substr(0,t[n].length-1);return!1}(),p=d?"-"+d.toLowerCase()+"-":"",f=r("transform"),h=r("transitionProperty"),m=r("transitionDuration"),v=r("transformOrigin"),b=r("transitionTimingFunction"),y=r("transitionDelay"),g=/android/gi.test(navigator.appVersion),S=/iphone|ipad/gi.test(navigator.appVersion),x=/hp-tablet/gi.test(navigator.appVersion),T=r("perspective")in u,_="ontouchstart"in a&&!x,w=d!==!1,M=r("transition")in u,D="onorientationchange"in a?"orientationchange":"resize",E=_?"touchstart":"mousedown",C=_?"touchmove":"mousemove",k=_?"touchend":"mouseup",L=_?"touchcancel":"mouseup",z=function(){if(d===!1)return!1;var e={"":"transitionend",webkit:"webkitTransitionEnd",Moz:"transitionend",O:"otransitionend",ms:"MSTransitionEnd"};return e[d]}(),O=function(){return a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame||a.oRequestAnimationFrame||a.msRequestAnimationFrame||function(e){return setTimeout(e,1)}}(),Y=function(){return a.cancelAnimationFrame||a.cancelRequestAnimationFrame||a.webkitCancelAnimationFrame||a.webkitCancelRequestAnimationFrame||a.mozCancelRequestAnimationFrame||a.oCancelRequestAnimationFrame||a.msCancelRequestAnimationFrame||clearTimeout}(),P=T?" translateZ(0)":"",X="_unbind",A="options",R="onTouchEnd",N="onScrollEnd",B="scrollTo",I="scroller",q="scrollerW",F="scrollerH",$="maxScrollY",Z="maxScrollX",j="minScrollY",H="wrapperOffsetLeft",V="wrapperOffsetTop",W="pageX",U="pageY",G="pagesX",K="pagesY",J="currPageX",Q="currPageY",ee="style",te="useTransform",ne="useTransition",oe="wrapper",ie="wrapperH",re="wrapperW",ae="Scrollbar",le="ScrollbarProp",se="ScrollbarWrapper",ce="ScrollbarIndicator",ue="ScrollbarIndicatorSize",de="ScrollbarMaxScroll",pe="hScroll",fe="hScrollbar",he="hScrollbarIndicator",me="hScrollbarIndicatorSize",ve="hScrollbarMaxScroll",be="hScrollbarProp",ye="hScrollbarSize",ge="hScrollbarWrapper",Se="vScroll",xe="vScrollbar",Te="vScrollbarIndicator",_e="vScrollbarIndicatorSize",we="vScrollbarMaxScroll",Me="vScrollbarProp",De="vScrollbarSize",Ee="vScrollbarWrapper",Ce=function(e,t){var n,r=this,c="object"==("undefined"==typeof e?"undefined":o(e))?e:l.getElementById(e);c[ee].overflow="hidden",r[oe]=c,r[I]=c.children[0],r[A]={hScroll:!1,vScroll:!0,x:0,y:0,bounce:!0,bounceLock:!1,momentum:!0,lockDirection:!0,useTransform:!0,useTransition:!0,topOffset:0,checkDOMChanges:!1,handleClick:!0,resetDuration:400,hScrollbar:!0,vScrollbar:!0,fixedScrollbar:g,hideScrollbar:S,fadeScrollbar:S&&T,scrollbarClass:"",zoom:!1,zoomMin:1,zoomMax:4,doubleTapZoom:2,wheelAction:"scroll",snap:!1,snapThreshold:1,snapOffset:{x:0,y:0},onRefresh:null,onRefreshed:null,onResetPos:i,onBeforeScrollStart:function(e){for(var t=e.target;1!=t.nodeType;)t=t.parentNode;/\biscrollinput\b/i.test(t.className)||"SELECT"==t.tagName||"INPUT"==t.tagName||"TEXTAREA"==t.tagName||e.preventDefault()},onScroll:i,onScrollStart:null,onBeforeScrollMove:null,onScrollMove:null,onBeforeScrollEnd:null,onScrollEnd:null,onTouchEnd:null,onDestroy:null,onZoomStart:null,onZoom:null,onZoomEnd:null};for(n in t)r[A][n]=t[n];var u=r[A];r.x=u.x,r.y=u.y,u[te]=w&&u[te],u[fe]=u[pe]&&u[fe],u[xe]=u[Se]&&u[xe],u.zoom=u[te]&&u.zoom,u[ne]=M&&u[ne],u.zoom&&g&&(P="");var d=r[I][ee];d[h]=u[te]?p+"transform":"top left",d[m]="0",d[v]="0 0",u[ne]&&(d[b]="cubic-bezier(0.33,0.66,0.66,1)"),u[te]?d[f]="translate("+r.x+"px,"+r.y+"px)"+P:d.cssText+=";position:absolute;top:"+r.y+"px;left:"+r.x+"px",u[ne]&&(u.fixedScrollbar=!0),r.refresh(),r._bind(D,a),r._bind(E),_||"none"!=u.wheelAction&&(r._bind("DOMMouseScroll"),r._bind("mousewheel")),u.checkDOMChanges&&(r.checkDOMTime=setInterval(function(){r._checkDOMChanges()},500)),s.watch("input,textarea,select",r[oe]),s.fixIScroll4Onchange(this)};return Ce.prototype={enabled:!0,x:0,y:0,steps:[],scale:1,currPageX:0,currPageY:0,pagesX:[],pagesY:[],aniTime:null,wheelZoomCount:0,handleEvent:function(e){var t=this;switch(e.type){case E:if(!_&&0!==e.button)return;t._start(e);break;case C:t._move(e);break;case k:case L:t._end(e);break;case D:t._resize();break;case"DOMMouseScroll":case"mousewheel":t._wheel(e);break;case z:t._transitionEnd(e)}},_checkDOMChanges:function(){this.moved||this.zoomed||this.animating||this[q]==this[I].offsetWidth*this.scale&&this[F]==this[I].offsetHeight*this.scale||this.refresh()},_scrollbar:function(e){var t,n=this,o=this[A];return n[e+ae]?(n[e+se]||(t=l.createElement("div"),o.scrollbarClass?t.className=o.scrollbarClass+e.toUpperCase():t[ee].cssText="position:absolute;z-index:100;"+("h"==e?"height:7px;bottom:1px;left:2px;right:"+(n.vScrollbar?"7":"2")+"px":"width:7px;bottom:"+(n.hScrollbar?"7":"2")+"px;top:2px;right:1px"),t[ee].cssText+=";pointer-events:none;"+p+"transition-property:opacity;"+p+"transition-duration:"+(o.fadeScrollbar?"350ms":"0")+";overflow:hidden;opacity:"+(o.hideScrollbar?"0":"1"),n[oe].appendChild(t),n[e+se]=t,t=l.createElement("div"),o.scrollbarClass||(t[ee].cssText="position:absolute;z-index:100;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);"+p+"background-clip:padding-box;"+p+"box-sizing:border-box;"+("h"==e?"height:100%":"width:100%")+";"+p+"border-radius:3px;border-radius:3px"),t[ee].cssText+=";pointer-events:none;"+p+"transition-property:"+p+"transform;"+p+"transition-timing-function:cubic-bezier(0.33,0.66,0.66,1);"+p+"transition-duration:0;"+p+"transform: translate(0,0)"+P,o[ne]&&(t[ee].cssText+=";"+p+"transition-timing-function:cubic-bezier(0.33,0.66,0.66,1)"),n[e+se].appendChild(t),n[e+ce]=t),"h"==e?(n[ye]=n[ge].clientWidth,n[me]=c.max(c.round(n[ye]*n[ye]/n[q]),8),n[he].style.width=n[me]+"px",n[ve]=n[ye]-n[me],n[be]=n[ve]/n[Z]):(n[De]=n[Ee].clientHeight,n[_e]=c.max(c.round(n[De]*n[De]/n[F]),8),n[Te].style.height=n[_e]+"px",n[we]=n[De]-n[_e],n[Me]=n[we]/n[$]),void n._scrollbarPos(e,!0)):void(n[e+se]&&(w&&(n[e+ce].style[f]=""),n[e+se].parentNode.removeChild(n[e+se]),n[e+se]=null,n[e+ce]=null))},_resize:function(){var e=this;setTimeout(function(){e.refresh()},g?200:0)},_pos:function(e,t){var n=this,o=n[A],i=n[I][ee];n.zoomed||(e=n.hScroll?e:0,t=n.vScroll?t:0,o[te]?i[f]="translate("+e+"px,"+t+"px) scale("+n.scale+")"+P:(e=c.round(e),t=c.round(t),i.left=e+"px",i.top=t+"px"),n.x=e,n.y=t,o.onScroll.call(this,e,t),n._scrollbarPos("h"),n._scrollbarPos("v"))},_scrollbarPos:function(e,t){var n,o=this,i=o[A],r="h"==e?o.x:o.y,a=o[e+ae],l=o[e+de],s=o[e+ue],u=o[e+ce],d=o[e+se];a&&(r=o[e+le]*r,r<0?(i.fixedScrollbar||(n=s+c.round(3*r),n<8&&(n=8),u[ee]["h"==e?"width":"height"]=n+"px"),r=0):r>l&&(i.fixedScrollbar?r=l:(n=s-c.round(3*(r-l)),n<8&&(n=8),u[ee]["h"==e?"width":"height"]=n+"px",r=l+(s-n))),d[ee][y]="0",d[ee].opacity=t&&i.hideScrollbar?"0":"1",u[ee][f]="translate("+("h"==e?r+"px,0)":"0,"+r+"px)")+P)},_start:function(e){var t,n,o,i,r,l=this,s=l[A],u=_?e.touches[0]:e;l.enabled&&(s.onBeforeScrollStart&&s.onBeforeScrollStart.call(l,e),(s[ne]||s.zoom)&&l._transitionTime(0),l.moved=!1,l.animating=!1,l.zoomed=!1,l.distX=0,l.distY=0,l.absDistX=0,l.absDistY=0,l.dirX=0,l.dirY=0,s.zoom&&_&&e.touches.length>1&&(i=c.abs(e.touches[0][W]-e.touches[1][W]),r=c.abs(e.touches[0][U]-e.touches[1][U]),l.touchesDistStart=c.sqrt(i*i+r*r),l.originX=c.abs(e.touches[0][W]+e.touches[1][W]-2*l[H])/2-l.x,l.originY=c.abs(e.touches[0][U]+e.touches[1][U]-2*l[V])/2-l.y,s.onZoomStart&&s.onZoomStart.call(l,e)),s.momentum&&(s[te]?(t=getComputedStyle(l[I],null)[f].replace(/[^0-9\-.,]/g,"").split(","),n=+(t[12]||t[4]),o=+(t[13]||t[5])):(n=+getComputedStyle(l[I],null).left.replace(/[^0-9-]/g,""),o=+getComputedStyle(l[I],null).top.replace(/[^0-9-]/g,"")),n==l.x&&o==l.y||(s[ne]?l[X](z):Y(l.aniTime),l.steps=[],l._pos(n,o),s[N]&&s[N].call(l))),l.absStartX=l.x,l.absStartY=l.y,l.startX=l.x,l.startY=l.y,l.pointX=u[W],l.pointY=u[U],l.startTime=e.timeStamp||Date.now(),s.onScrollStart&&s.onScrollStart.call(l,e),l._bind(C,a),l._bind(k,a),l._bind(L,a))},_move:function(e){var t,n,o,i=this,r=i[A],a=_?e.touches[0]:e,l=a[W]-i.pointX,s=a[U]-i.pointY,u=i.x+l,d=i.y+s,p=e.timeStamp||Date.now();return r.onBeforeScrollMove&&r.onBeforeScrollMove.call(i,e),r.zoom&&_&&e.touches.length>1?(t=c.abs(e.touches[0][W]-e.touches[1][W]),n=c.abs(e.touches[0][U]-e.touches[1][U]),i.touchesDist=c.sqrt(t*t+n*n),i.zoomed=!0,o=1/i.touchesDistStart*i.touchesDist*this.scale,o<r.zoomMin?o=.5*r.zoomMin*c.pow(2,o/r.zoomMin):o>r.zoomMax&&(o=2*r.zoomMax*c.pow(.5,r.zoomMax/o)),i.lastScale=o/this.scale,u=this.originX-this.originX*i.lastScale+this.x,d=this.originY-this.originY*i.lastScale+this.y,this[I].style[f]="translate("+u+"px,"+d+"px) scale("+o+")"+P,void(r.onZoom&&r.onZoom.call(i,e))):(i.pointX=a[W],i.pointY=a[U],(u>0||u<i[Z])&&(u=r.bounce?i.x+l/2:u>=0||i[Z]>=0?0:i[Z]),(d>i[j]||d<i[$])&&(d=r.bounce?i.y+s/2:d>=i[j]||i[$]>=0?i[j]:i[$]),i.distX+=l,i.distY+=s,i.absDistX=c.abs(i.distX),i.absDistY=c.abs(i.distY),void(i.absDistX<6&&i.absDistY<6||(r.lockDirection&&(i.absDistX>i.absDistY+5?(d=i.y,s=0):i.absDistY>i.absDistX+5&&(u=i.x,l=0)),i.moved=!0,i._pos(u,d),i.dirX=l>0?-1:l<0?1:0,i.dirY=s>0?-1:s<0?1:0,p-i.startTime>300&&(i.startTime=p,i.startX=i.x,i.startY=i.y),r.onScrollMove&&r.onScrollMove.call(i,e))))},_end:function(e){if(!_||0===e.touches.length){var t,n,o,i,r,s,u,d=this,p=d[A],h=_?e.changedTouches[0]:e,v={dist:0,time:0},b={dist:0,time:0},y=(e.timeStamp||Date.now())-d.startTime,g=d.x,S=d.y;if(d[X](C,a),d[X](k,a),d[X](L,a),p.onBeforeScrollEnd&&p.onBeforeScrollEnd.call(d,e),d.zoomed)return u=d.scale*d.lastScale,u=c.max(p.zoomMin,u),u=c.min(p.zoomMax,u),d.lastScale=u/d.scale,d.scale=u,d.x=d.originX-d.originX*d.lastScale+d.x,d.y=d.originY-d.originY*d.lastScale+d.y,d[I][ee][m]="200ms",d[I][ee][f]="translate("+d.x+"px,"+d.y+"px) scale("+d.scale+")"+P,d.zoomed=!1,d.refresh(),void(p.onZoomEnd&&p.onZoomEnd.call(d,e));if(!d.moved)return _&&(d.doubleTapTimer&&p.zoom?(clearTimeout(d.doubleTapTimer),d.doubleTapTimer=null,p.onZoomStart&&p.onZoomStart.call(d,e),d.zoom(d.pointX,d.pointY,1==d.scale?p.doubleTapZoom:1),p.onZoomEnd&&setTimeout(function(){p.onZoomEnd.call(d,e)},200)):p.handleClick&&(d.doubleTapTimer=setTimeout(function(){for(d.doubleTapTimer=null,t=h.target;1!=t.nodeType;)t=t.parentNode;"SELECT"!=t.tagName&&"INPUT"!=t.tagName&&"TEXTAREA"!=t.tagName&&(n=l.createEvent("MouseEvents"),
n.initMouseEvent("click",!0,!0,e.view,1,h.screenX,h.screenY,h.clientX,h.clientY,e.ctrlKey,e.altKey,e.shiftKey,e.metaKey,0,null),n._fake=!0,t.dispatchEvent(n))},p.zoom?250:0))),d._resetPos(400),void(p[R]&&p[R].call(d,e));if(y<300&&p.momentum&&(v=g?d._momentum(g-d.startX,y,-d.x,d[q]-d[re]+d.x,p.bounce?d[re]:0):v,b=S?d._momentum(S-d.startY,y,-d.y,d[$]<0?d[F]-d[ie]+d.y-d[j]:0,p.bounce?d[ie]:0):b,g=d.x+v.dist,S=d.y+b.dist,(d.x>0&&g>0||d.x<d[Z]&&g<d[Z])&&(v={dist:0,time:0}),(d.y>d[j]&&S>d[j]||d.y<d[$]&&S<d[$])&&(b={dist:0,time:0})),v.dist||b.dist)return r=c.max(c.max(v.time,b.time),10),p.snap&&(o=g-d.absStartX,i=S-d.absStartY,c.abs(o)<p.snapThreshold&&c.abs(i)<p.snapThreshold?d[B](d.absStartX,d.absStartY,200):(s=d._snap(g,S),g=s.x,S=s.y,r=c.max(s.time,r))),d[B](c.round(g),c.round(S),r),void(p[R]&&p[R].call(d,e));if(p.snap)return o=g-d.absStartX,i=S-d.absStartY,c.abs(o)<p.snapThreshold&&c.abs(i)<p.snapThreshold?d[B](d.absStartX,d.absStartY,200):(s=d._snap(d.x,d.y),s.x==d.x&&s.y==d.y||d[B](s.x,s.y,s.time)),void(p[R]&&p[R].call(d,e));p[R]&&p[R].call(d,e),d._resetPos(200)}},_resetPos:function(e){var t=this,n=t[A],o=t.x>=0?0:t.x<t[Z]?t[Z]:t.x,i=t.y>=t.minScrollY||t[$]>0?t[j]:t.y<t[$]?t[$]:t.y;return n.onResetPos.call(t,e||0),o==t.x&&i==t.y?(t.moved&&(t.moved=!1,n[N]&&n[N].call(t)),t[fe]&&n.hideScrollbar&&("webkit"==d&&(t[ge][ee][y]="300ms"),t[ge][ee].opacity="0"),void(t[xe]&&n.hideScrollbar&&("webkit"==d&&(t[Ee][ee][y]="300ms"),t[Ee][ee].opacity="0"))):void t[B](o,i,e||0)},_wheel:function(e){var t,n,o,i,r,a=this,l=a[A];if("wheelDeltaX"in e)t=e.wheelDeltaX/12,n=e.wheelDeltaY/12;else if("wheelDelta"in e)t=n=e.wheelDelta/12;else{if(!("detail"in e))return;t=n=3*-e.detail}return"zoom"==l.wheelAction?(r=a.scale*c.pow(2,1/3*(n?n/c.abs(n):0)),r<l.zoomMin&&(r=l.zoomMin),r>l.zoomMax&&(r=l.zoomMax),void(r!=a.scale&&(!a.wheelZoomCount&&l.onZoomStart&&l.onZoomStart.call(a,e),a.wheelZoomCount++,a.zoom(e[W],e[U],r,400),setTimeout(function(){a.wheelZoomCount--,!a.wheelZoomCount&&l.onZoomEnd&&l.onZoomEnd.call(a,e)},400)))):(o=a.x+t,i=a.y+n,o>0?o=0:o<a[Z]&&(o=a[Z]),i>a.minScrollY?i=a.minScrollY:i<a[$]&&(i=a[$]),void(a[$]<0&&a[B](o,i,0)))},_transitionEnd:function(e){var t=this;e.target==t[I]&&(t[X](z),t._startAni())},_startAni:function(){var e,t,n,o=this,i=o[A],r=o.x,a=o.y,l=Date.now();if(!o.animating){if(!o.steps.length)return void o._resetPos(400);if(e=o.steps.shift(),e.x==r&&e.y==a&&(e.time=0),o.animating=!0,o.moved=!0,i[ne])return o._transitionTime(e.time),o._pos(e.x,e.y),o.animating=!1,void(e.time?o._bind(z):o._resetPos(0));n=function(){var s,u,d=Date.now();return d>=l+e.time?(o._pos(e.x,e.y),o.animating=!1,i.onAnimationEnd&&i.onAnimationEnd.call(o),void o._startAni()):(d=(d-l)/e.time-1,t=c.sqrt(1-d*d),s=(e.x-r)*t+r,u=(e.y-a)*t+a,o._pos(s,u),void(o.animating&&(o.aniTime=O(n))))},n()}},_transitionTime:function(e){var t=this;e+="ms",t[I][ee][m]=e,t[fe]&&(t[he][ee][m]=e),t[xe]&&(t[Te][ee][m]=e)},_momentum:function(e,t,n,o,i){var r=6e-4,a=c.abs(e)/t,l=a*a/(2*r),s=0,u=0;return e>0&&l>n?(u=i/(6/(l/a*r)),n+=u,a=a*n/l,l=n):e<0&&l>o&&(u=i/(6/(l/a*r)),o+=u,a=a*o/l,l=o),l*=e<0?-1:1,s=a/r,{dist:l,time:c.round(s)}},_offset:function(e){for(var t=-e.offsetLeft,n=-e.offsetTop;e=e.offsetParent;)t-=e.offsetLeft,n-=e.offsetTop;return e!=this[oe]&&(t*=this.scale,n*=this.scale),{left:t,top:n}},_snap:function(e,t){var n,o,i,r,a,l,s=this,u=s[A];for(i=s[G].length-1,n=0,o=s[G].length;n<o;n++)if(e>=s[G][n]){i=n;break}for(i==s[J]&&i>0&&s.dirX<0&&i--,e=s[G][i],a=c.abs(e-s[G][s[J]]),a=a?c.abs(s.x-e)/a*500:0,s[J]=i,i=s[K].length-1,n=0;n<i;n++)if(t>=s[K][n]){i=n;break}return i==s[Q]&&i>0&&s.dirY<0&&i--,t=s[K][i],l=c.abs(t-s[K][s[Q]]),l=l?c.abs(s.y-t)/l*500:0,s[Q]=i,r=c.round(c.max(a,l))||200,{x:e+u.snapOffset.x,y:t+u.snapOffset.y,time:r}},_bind:function(e,t,n){(t||this[I]).addEventListener(e,this,!!n)},_unbind:function(e,t,n){(t||this[I]).removeEventListener(e,this,!!n)},destroy:function(){var e=this,t=e[A];e[I].style[f]="",e[fe]=!1,e[xe]=!1,e._scrollbar("h"),e._scrollbar("v"),e[X](D,a),e[X](E),e[X](C,a),e[X](k,a),e[X](L,a),t.hasTouch||(e[X]("DOMMouseScroll"),e[X]("mousewheel")),t[ne]&&e[X](z),t.checkDOMChanges&&clearInterval(e.checkDOMTime),t.onDestroy&&t.onDestroy.call(e)},refresh:function(){var e,t,n,o,i=this,r=this[A],a=i[oe],l=i[I],s=0,u=0;if(i.scale<r.zoomMin&&(i.scale=r.zoomMin),i[re]=a.clientWidth||1,i[ie]=a.clientHeight||1,i[j]=-r.topOffset||0,i[q]=c.round(l.offsetWidth*i.scale),i[F]=c.round((l.offsetHeight+i[j])*i.scale),i[Z]=i[re]-i[q],i[$]=i[ie]-i[F]+i[j],i.dirX=0,i.dirY=0,r.onRefresh&&r.onRefresh.call(i),i[pe]=r[pe]&&i[Z]<0,i[Se]=r[Se]&&(!r.bounceLock&&!i[pe]||i[F]>i[ie]),i[fe]=i[pe]&&r[fe],i[xe]=i[Se]&&r[xe]&&i[F]>i[ie],e=i._offset(a),i[H]=-e.left,i[V]=-e.top,"string"==typeof r.snap)for(i[G]=[],i[K]=[],o=i[I].querySelectorAll(r.snap),t=0,n=o.length;t<n;t++)s=i._offset(o[t]),s.left+=i[H],s.top+=i[V],i[G][t]=s.left<i[Z]?i[Z]:s.left*i.scale,i[K][t]=s.top<i[$]?i[$]:s.top*i.scale;else if(r.snap){for(i[G]=[];s>=i[Z];)i[G][u]=s,s-=i[re],u++;for(i[Z]%i[re]&&(i[G][i[G].length]=i[Z]-i[G][i[G].length-1]+i[G][i[G].length-1]),s=0,u=0,i[K]=[];s>=i[$];)i[K][u]=s,s-=i[ie],u++;i[$]%i[ie]&&(i[K][i[K].length]=i[$]-i[K][i[K].length-1]+i[K][i[K].length-1])}i._scrollbar("h"),i._scrollbar("v"),i.zoomed||(i[I].style[m]="0",i._resetPos(r.resetDuration)),r.onRefreshed&&r.onRefreshed.call(i)},scrollTo:function(e,t,n,o){var i,r,a=this,l=e;for(a.stop(),l.length||(l=[{x:e,y:t,time:n,relative:o}]),i=0,r=l.length;i<r;i++)l[i].relative&&(l[i].x=a.x-l[i].x,l[i].y=a.y-l[i].y),a.steps.push({x:l[i].x,y:l[i].y,time:l[i].time||0});a._startAni()},scrollToElement:function(e,t){var n,o=this;e=e.nodeType?e:o[I].querySelector(e),e&&(n=o._offset(e),n.left+=o[H],n.top+=o[V],n.left=n.left>0?0:n.left<o[Z]?o[Z]:n.left,n.top=n.top>o[j]?o[j]:n.top<o[$]?o[$]:n.top,t=void 0===t?c.max(2*c.abs(n.left),2*c.abs(n.top)):t,o[B](n.left,n.top,t))},scrollToPage:function(e,t,n){var o,i,r=this,a=r[A];n=void 0===n?400:n,a.onScrollStart&&a.onScrollStart.call(r),a.snap?(e="next"==e?r[J]+1:"prev"==e?r[J]-1:e,t="next"==t?r[Q]+1:"prev"==t?r[Q]-1:t,e=e<0?0:e>r[G].length-1?r[G].length-1:e,t=t<0?0:t>r[K].length-1?r[K].length-1:t,r[J]=e,r[Q]=t,o=r[G][e],i=r[K][t]):(o=-r[re]*e,i=-r[ie]*t,o<r[Z]&&(o=r[Z]),i<r[$]&&(i=r[$])),r[B](o,i,n)},disable:function(){this.stop(),this._resetPos(0),this.enabled=!1,this[X](C,a),this[X](k,a),this[X](L,a)},enable:function(){this.enabled=!0},stop:function(){var e=this;e[A][ne]?e[X](z):Y(e.aniTime),e.steps=[],e.moved=!1,e.animating=!1},zoom:function(e,t,n,o){var i=this,r=i[I][ee],a=n/i.scale;i[A][te]&&(i.zoomed=!0,o=void 0===o?200:o,e=e-i[H]-i.x,t=t-i[V]-i.y,i.x=e-e*a+i.x,i.y=t-t*a+i.y,i.scale=n,i.refresh(),i.x=i.x>0?0:i.x<i[Z]?i[Z]:i.x,i.y=i.y>i[j]?i[j]:i.y<i[$]?i[$]:i.y,r[m]=o+"ms",r[f]="translate("+i.x+"px,"+i.y+"px) scale("+n+")"+P,i.zoomed=!1)},isReady:function(){return!this.moved&&!this.zoomed&&!this.animating}},u=null,e&&(e.iScroll=Ce),Ce})}])});